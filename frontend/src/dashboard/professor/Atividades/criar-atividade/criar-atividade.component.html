
<app-navbar2></app-navbar2>


<div class="container">
    <div class="descricao"><h2>Criar Atividade</h2>
    <p class="subtitle">Preencha as informações abaixo para criar uma nova atividade</p></div>
    
    <form (ngSubmit)="criarAtividade()" #atividadeForm="ngForm">
        <div class="form-section">
            <div class="form-section-title">Informações Básicas</div>
            
            <div class="form-row">
                <div class="form-group">
                    <label for="titulo" class="required-field">Título</label>
                    <input
                        id="titulo"
                        name="titulo"
                        [(ngModel)]="atividade.titulo"
                        class="form-control"
                        required />
                </div>

                <div class="form-group">
                    <label for="materia" class="required-field">Matéria (Vincular a Material)</label>
                    <select
                        id="materia"
                        name="materia"
                        [(ngModel)]="atividade.materia"
                        class="form-control"
                        required
                        [disabled]="loadingMateriais">
                        <option value="" disabled selected>
                            {{ loadingMateriais ? 'Carregando materiais...' : 'Selecione um material' }}
                        </option>
                        <option *ngFor="let material of materiais" [ngValue]="material">
                            {{ material.titulo }} <span *ngIf="material.traducao">({{ material.traducao }})</span>
                        </option>
                    </select>
                </div>
            </div>

            <div class="form-row single">
                <div class="form-group">
                    <label for="conteudo" class="required-field">Conteúdo</label>
                    <textarea
                        id="conteudo"
                        name="conteudo"
                        [(ngModel)]="atividade.conteudo"
                        class="form-control"
                        required></textarea>
                </div>
            </div>
        </div>

        <div class="form-section">
            <div class="form-section-title">Configurações Avançadas</div>
            
            <div class="form-row">
                <div class="form-group">
                    <label for="tipo">Tipo</label>
                    <select
                        id="tipo"
                        name="tipo"
                        [(ngModel)]="atividade.tipo"
                        class="form-control">
                        <option *ngFor="let tipo of tipos" [value]="tipo">{{ tipo | titlecase }}</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="dificuldade">Dificuldade</label>
                    <select
                        id="dificuldade"
                        name="dificuldade"
                        [(ngModel)]="atividade.dificuldade"
                        class="form-control">
                        <option *ngFor="let dificuldade of dificuldades" [value]="dificuldade">{{ dificuldade | titlecase }}</option>
                    </select>
                </div>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label for="pontuacao">Pontuação</label>
                    <input
                        type="number"
                        id="pontuacao"
                        name="pontuacao"
                        [(ngModel)]="atividade.pontuacao"
                        class="form-control"
                        min="0" />
                </div>

                <div class="form-group">
                    <label for="dataVencimento">Data de Vencimento</label>
                    <input
                        type="date"
                        id="dataVencimento"
                        name="dataVencimento"
                        [(ngModel)]="atividade.dataVencimento"
                        class="form-control" />
                </div>
            </div>

            <div class="form-row single">
                <div class="form-check-wrapper">
                    <div class="form-check">
                        <input
                            id="ativa"
                            type="checkbox"
                            name="ativa"
                            [(ngModel)]="atividade.ativa"
                            class="form-check-input" />
                        <label for="ativa" class="form-check-label">Atividade Ativa</label>
                    </div>
                </div>
            </div>
        </div>

        <div class="form-actions">
            <button type="submit" class="btn btn-primary" [disabled]="!atividadeForm.valid">
                Criar Atividade
            </button>

        </div>
    </form>
</div>