<button routerLink="/dashboard-professor" class="btn-voltar">
  ‚Üê Voltar
</button>

<div class="conteudo-page">

  <!-- Formul√°rio de cria√ß√£o / edi√ß√£o -->
  <div class="conteudo-form">
    <h3>{{ editId ? 'Editar Conte√∫do' : 'Criar Conte√∫do' }}</h3>

    <form [formGroup]="form" (ngSubmit)="editId ? concluirEdicao() : criarConteudo()">

      <!-- T√≠tulo -->
      <div class="form-group">
        <label for="titulo">T√≠tulo</label>
        <input id="titulo" formControlName="titulo" />
      </div>

      <!-- Descri√ß√£o -->
      <div class="form-group">
        <label for="descricao">Descri√ß√£o</label>
        <textarea id="descricao" formControlName="descricao"></textarea>
      </div>

      <!-- Texto -->
      <div class="form-group">
        <label for="texto">Texto</label>
        <textarea id="texto" formControlName="texto"></textarea>
      </div>

      <!-- Tipo -->
      <div class="form-group">
        <label for="tipo">Tipo</label>
        <select id="tipo" formControlName="tipo">
          <option *ngFor="let tipo of tipos" [value]="tipo">{{ tipo }}</option>
        </select>
      </div>

      <!-- PDF -->
      <div class="form-group">
        <label>PDF</label>
        <div class="pdf-upload">
          <button type="button" (click)="pdfInput.click()" class="pdf-btn">
            Selecionar PDF
          </button>
          <input
            #pdfInput
            type="file"
            accept=".pdf"
            style="display: none"
            (change)="onPdfSelected($event)"
          />
          <span *ngIf="selectedPdf">{{ selectedPdf.name }}</span>
        </div>
      </div>

      <!-- Mat√©ria -->
      <div class="form-group">
        <label for="materialId">Mat√©ria</label>
        <select id="materialId" formControlName="materialId">
          <option *ngFor="let material of materias" [value]="material.id">
            {{ material.titulo }}
          </option>
        </select>
      </div>

      <!-- Bot√µes -->
      <div class="btn-group">
        <button 
          type="submit" 
          class="btn-salvar" 
          [ngClass]="{'btn-editar': editId}">
          {{ editId ? 'Concluir Edi√ß√£o' : 'Salvar' }}
        </button>

        <button 
          *ngIf="editId" 
          type="button" 
          (click)="cancelarEdicao()" 
          class="btn-cancelar">
          Cancelar
        </button>
      </div>
    </form>
  </div>

  <!-- Lista de conte√∫dos -->
  <div class="conteudos-container">
    <h3>üìö Conte√∫dos Criados</h3>

    <div *ngIf="conteudos.length === 0" class="mensagem-vazia">
      Nenhum conte√∫do cadastrado ainda...
    </div>

    <ul class="conteudo-lista">
      <li *ngFor="let c of conteudos" class="conteudo-item">
        <h4>{{ c.titulo }}</h4>
        <p><strong>Descri√ß√£o:</strong> {{ c.descricao }}</p>
        <p><strong>Texto:</strong> {{ c.texto }}</p>
        <p><strong>Mat√©ria:</strong> {{ c.materialNome }}</p>

        <!-- Bot√µes de a√ß√£o -->
        <div class="btn-group">
          <button (click)="iniciarEdicao(c)" class="btn-att">‚úèÔ∏è Atualizar</button>
          <button (click)="deletarConteudo(c.id)" class="btn-del">üóëÔ∏è Deletar</button>
        </div>
      </li>
    </ul>
  </div>

</div>

