<app-navbar2></app-navbar2>

<div class="material-header">   
  <h2>Matérias</h2>   
  <div class="header-actions">   
  </div> 
</div>  

<div class="filters">   
  <div class="filter-row">     
    <div class="form-group">       
      <label for="filtroTitulo">Filtrar por Título:</label>       
      <input id="filtroTitulo" class="form-control"              
             type="text" [(ngModel)]="filtros.titulo"              
             (input)="aplicarFiltros()" placeholder="Digite o título...">     
    </div>   
  </div> 
</div>  

<div *ngIf="loading" class="loading">   
  <p>Carregando materiais...</p> 
</div>  

<div *ngIf="!loading && materiais.length > 0" class="material-grid">   
  <div *ngFor="let material of materiais" class="material-card">     
    <h3 (click)="abrirModalSelecao(material)">{{ material.titulo }}</h3>     
    <p>{{ material.conteudo }}</p>     
    <div class="material-meta">       
      <strong>Tradução:</strong> {{ material.traducao }}<br>       
      <strong>Criado em:</strong> {{ formatarData(material.createdAt) }}     
    </div>     
    <!-- Sem ações de edição/exclusão -->   
  </div> 
</div>  

<div *ngIf="!loading && materiais.length === 0" class="empty-state">   
  <h3>Nenhum material encontrado</h3>   
  <p>Use o filtro acima para procurar.</p> 
</div>

<!-- Modal de Seleção -->
<div *ngIf="showModal" class="modal-overlay" (click)="fecharModal()">
  <div class="modal-content" (click)="$event.stopPropagation()">
    <div class="modal-header">
      <h3>{{ materialSelecionado?.titulo }}</h3>
      <button class="modal-close" (click)="fecharModal()">&times;</button>
    </div>
    
    <div class="modal-body">
      <p>O que você gostaria de acessar?</p>
      
      <div class="modal-options">
        <button class="option-btn atividade-btn" (click)="abrirAtividade()">
          <div class="option-icon">📝</div>
          <div class="option-text">
            <h4>Atividade</h4>
            <p>Exercícios e tarefas práticas</p>
          </div>
        </button>
        
        <button class="option-btn conteudo-btn" (click)="abrirConteudo()">
          <div class="option-icon">📚</div>
          <div class="option-text">
            <h4>Conteúdo</h4>
            <p>Material de estudo e teoria</p>
          </div>
        </button>
      </div>
    </div>
  </div>
</div>