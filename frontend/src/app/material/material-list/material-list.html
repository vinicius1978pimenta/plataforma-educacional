<app-navbar></app-navbar>

<div class="material-header">
  <h2>Gerenciar Materiais</h2>
  <div class="header-actions">
    <button class="btn-secondary" (click)="irParaDashboard()">
      Voltar
    </button>
    <button class="btn-primary" (click)="irParaNovo()">
      + Novo Material
    </button>
  </div>
</div>

  <div class="filters">
    <div class="filter-row">
      <div class="form-group">
        <label for="filtroTitulo">Filtrar por Título:</label>
        <input
          type="text"
          id="filtroTitulo"
          class="form-control"
          [(ngModel)]="filtros.titulo"
          (input)="aplicarFiltros()"
          placeholder="Digite o título do material...">
      </div>
    </div>
  </div>

  <div *ngIf="loading" class="loading">
    <p>Carregando materiais...</p>
  </div>

  <div *ngIf="!loading && materiais.length > 0" class="material-grid">
    <div *ngFor="let material of materiais" class="material-card">
      <h3 (click)="abrirMaterial(material.id)">{{ material.titulo }}</h3>
      <p>{{ material.conteudo }}</p>
      <div class="material-meta">
        <strong>Tradução:</strong> {{ material.traducao }}<br>
        <strong>Criado em:</strong> {{ formatarData(material.createdAt) }}
      </div>
      <div class="material-actions">
        <button class="btn-secondary" (click)="editarMaterial(material.id)">
          Editar
        </button>
        <button class="btn-danger" (click)="excluirMaterial(material.id)">
          Excluir
        </button>
      </div>
    </div>
  </div>

  <div *ngIf="!loading && materiais.length === 0" class="empty-state">
    <h3>Nenhum material encontrado</h3>
    <p>Comece criando seu primeiro material clicando no botão "Novo Material" acima.</p>
</div>
