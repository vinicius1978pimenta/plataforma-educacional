<div class="login-wrapper">
    <!-- SeÃ§Ã£o do formulÃ¡rio -->
    <div class="login-form-section">
        <div class="logo-sistema">
            <div class="logo"><img src="/logo-inter-azul.png" alt="Logo InterLinguas" width="50" height="40"></div> 
            <h1><strong>Interlinguas</strong></h1>
        </div>

        <div class="welcome-section">
            <h2>{{ 'registrar-1' | transloco }}</h2>
            <p>{{ 'registrar-2' | transloco }}</p>
        </div>

        <form (ngSubmit)="onSubmit()" #registerForm="ngForm" class="login-form">
            <div class="form-group">
                <label for="name">{{ 'registrar-3' | transloco }}</label>
                <input 
                    type="text" 
                    id="name" 
                    name="name" 
                    [(ngModel)]="registerData.name" 
                    required 
                    #name="ngModel">
                <div *ngIf="name.invalid && name.touched" class="error">
                    {{ 'registrar-4' | transloco }}
                </div>
            </div>

            <div class="form-group">
                <label for="email">{{ 'registrar-5' | transloco }}</label>
                <input 
                    type="email" 
                    id="email" 
                    name="email" 
                    [(ngModel)]="registerData.email" 
                    required 
                    #email="ngModel">
                <div *ngIf="email.invalid && email.touched" class="error">
                    {{ 'registrar-6' | transloco }}
                </div>
            </div>

            <div class="form-group">
                <label for="password">{{ 'registrar-7' | transloco }}</label>
                <div class="password-input-container">
                <input 
                    [type]="showPassword ? 'text' : 'password'" 
                    id="password" 
                    name="password" 
                    [(ngModel)]="registerData.password"
                    required 
                    minlength="6" 
                    #password="ngModel">
                    <button 
                    type="button" 
                    class="password-toggle-btn"
                    (click)="togglePasswordVisibility()">
                    <i [class]="showPassword ?'fa-solid fa-eye' : 'fa-solid fa-eye-slash'"></i>
                    </button>
                </div>
                <div *ngIf="password.invalid && password.touched" class="error">
                    <div *ngIf="password.errors?.['required']">{{ 'registrar-8' | transloco }}</div>
                    <div *ngIf="password.errors?.['minlength']">{{ 'registrar-9' | transloco }}</div>
                </div>
            </div>

            <div class="form-group">
                <label for="confirmPassword">{{ 'registrar-10' | transloco }}</label>
                <div class="password-input-container">
                  <input 
                    [type]="showConfirmPassword ? 'text' : 'password'" 
                    id="confirmPassword" 
                    name="confirmPassword" 
                    [(ngModel)]="registerData.confirmPassword"
                    required 
                    #confirmPassword="ngModel">
                  <button 
                    type="button" 
                    class="password-toggle-btn"
                    (click)="toggleConfirmPasswordVisibility()">
                    <i [class]="showConfirmPassword ?'fa-solid fa-eye' : 'fa-solid fa-eye-slash'"></i>
                  </button>
                </div>
                <!-- ValidaÃ§Ã£o -->
                <div *ngIf="confirmPassword.touched && registerData.confirmPassword !== registerData.password" class="error">
                  {{ 'registrar-11' | transloco }}
                </div>
              </div>

            <div class="role-selection">
                <label>{{ 'registrar-12' | transloco }}</label>
                <div class="role-buttons">
                    <button 
                        type="button" 
                        [class.active]="registerData.role === 'ALUNO'" 
                        (click)="selectRole('ALUNO')">
                        {{ 'login-8' | transloco }}
                    </button>
                    <button 
                        type="button" 
                        [class.active]="registerData.role === 'PROFESSOR'" 
                        (click)="selectRole('PROFESSOR')">
                        {{ 'login-9' | transloco }}
                    </button>
                    <button 
                        type="button" 
                        [class.active]="registerData.role === 'RESPONSAVEL'" 
                        (click)="selectRole('RESPONSAVEL')">
                        {{ 'login-10' | transloco }}
                    </button>
                </div>
            </div>

            <div *ngIf="registerData.role === 'ALUNO'" class="form-group">
                <label for="responsavelEmail">{{ 'registrar-17' | transloco }}</label>
                <input 
                    type="email" 
                    id="responsavelEmail" 
                    name="responsavelEmail" 
                    [(ngModel)]="registerData.responsavelEmail" 
                    required 
                    #responsavelEmail="ngModel">
                <div *ngIf="responsavelEmail.invalid && responsavelEmail.touched" class="error">
                    {{ 'registrar-13' | transloco }}
                </div>
            </div>

            <div *ngIf="errorMessage" class="error">
                {{ errorMessage }}
            </div>

            <div *ngIf="successMessage" class="success">
                {{ successMessage }}
            </div>

            <button 
                type="submit" 
                [disabled]="registerForm.invalid || !registerData.role || loading" 
                class="submit-btn">
                {{ loading ? 'Autenticando...' : 'Cadastrar-se' }}
            </button>
        </form>

        <div class="navigation-section">
            <div class="nav-buttons">
                <a href="/home" class="nav-btn btn-home">
                            {{ 'login-12' | transloco }}
                        </a>
                <a href="/login" class="nav-btn btn-login">
                            {{ 'registrar-14' | transloco }}
                        </a>

            </div>

            <!--
           
            <div class="login-link-section">
                <p>
                    JÃ¡ tem conta? <a routerLink="/login" (click)="goToLogin($event)">FaÃ§a login aqui</a>
                </p>
            </div>
             -->
        </div>
    </div>

    <!-- SeÃ§Ã£o hero ilustrativa -->
    <div class="hero-section">
        <div class="background-pattern">
            <div class="pattern-grid"></div>
        </div>
        
        <div class="hero-content">
            <div class="desktop-illustration">
                <div class="monitor-frame">
                    <div class="register-icon"></div>
                </div>
                <div class="security-badges">
                    <div class="security-badge">ğŸ”’</div>
                    <div class="security-badge">âœ“</div>
                    <div class="security-badge">ğŸ‘¥</div>
                </div>
            </div>
            <div class="hero-text">
                <h3>{{ 'registrar-15' | transloco }}</h3>
                <p>{{ 'registrar-16' | transloco }}</p>
            </div>
        </div>
    </div>
</div>