<div class="login-wrapper">
    <!-- Se√ß√£o do formul√°rio -->
    <div class="login-form-section">
        <div class="logo-sistema">
            <div class="logo"><img src="/logo-inter-azul.png" alt="Logo InterLinguas" width="50" height="40"></div> 
            <h1><strong>Interlinguas</strong></h1>
        </div>

        <div class="welcome-section">
            <h2>Criar Nova Conta</h2>
            <p>Preencha os dados para se cadastrar</p>
        </div>

        <form (ngSubmit)="onSubmit()" #registerForm="ngForm" class="login-form">
            <div class="form-group">
                <label for="name">Nome:</label>
                <input 
                    type="text" 
                    id="name" 
                    name="name" 
                    [(ngModel)]="registerData.name" 
                    required 
                    #name="ngModel">
                <div *ngIf="name.invalid && name.touched" class="error">
                    Nome √© obrigat√≥rio
                </div>
            </div>

            <div class="form-group">
                <label for="email">Email:</label>
                <input 
                    type="email" 
                    id="email" 
                    name="email" 
                    [(ngModel)]="registerData.email" 
                    required 
                    #email="ngModel">
                <div *ngIf="email.invalid && email.touched" class="error">
                    Email √© obrigat√≥rio
                </div>
            </div>

            <div class="form-group">
                <label for="password">Senha:</label>
                <div class="password-input-container">
                <input 
                    [type]="showPassword ? 'text' : 'password'" 
                    id="password" 
                    name="password" 
                    [(ngModel)]="registerData.password"
                    required 
                    minlength="6" 
                    #password="ngModel">
                    <button 
                    type="button" 
                    class="password-toggle-btn"
                    (click)="togglePasswordVisibility()">
                    <i [class]="showPassword ?'fa-solid fa-eye' : 'fa-solid fa-eye-slash'"></i>
                    </button>
                </div>
                <div *ngIf="password.invalid && password.touched" class="error">
                    <div *ngIf="password.errors?.['required']">Senha √© obrigat√≥ria</div>
                    <div *ngIf="password.errors?.['minlength']">Senha deve ter pelo menos 6 caracteres</div>
                </div>
            </div>

            <div class="form-group">
                <label for="confirmPassword">Confirmar Senha:</label>
                <div class="password-input-container">
                  <input 
                    [type]="showConfirmPassword ? 'text' : 'password'" 
                    id="confirmPassword" 
                    name="confirmPassword" 
                    [(ngModel)]="registerData.confirmPassword"
                    required 
                    #confirmPassword="ngModel">
                  <button 
                    type="button" 
                    class="password-toggle-btn"
                    (click)="toggleConfirmPasswordVisibility()">
                    <i [class]="showConfirmPassword ?'fa-solid fa-eye' : 'fa-solid fa-eye-slash'"></i>
                  </button>
                </div>
                <!-- Valida√ß√£o -->
                <div *ngIf="confirmPassword.touched && registerData.confirmPassword !== registerData.password" class="error">
                  As senhas n√£o coincidem
                </div>
              </div>

            <div class="role-selection">
                <label>Tipo de usu√°rio:</label>
                <div class="role-buttons">
                    <button 
                        type="button" 
                        [class.active]="registerData.role === 'ALUNO'" 
                        (click)="selectRole('ALUNO')">
                        Aluno
                    </button>
                    <button 
                        type="button" 
                        [class.active]="registerData.role === 'PROFESSOR'" 
                        (click)="selectRole('PROFESSOR')">
                        Professor
                    </button>
                    <button 
                        type="button" 
                        [class.active]="registerData.role === 'RESPONSAVEL'" 
                        (click)="selectRole('RESPONSAVEL')">
                        Respons√°vel
                    </button>
                </div>
            </div>

            <div *ngIf="registerData.role === 'ALUNO'" class="form-group">
                <label for="responsavelEmail">Email do Respons√°vel:</label>
                <input 
                    type="email" 
                    id="responsavelEmail" 
                    name="responsavelEmail" 
                    [(ngModel)]="registerData.responsavelEmail" 
                    required 
                    #responsavelEmail="ngModel">
                <div *ngIf="responsavelEmail.invalid && responsavelEmail.touched" class="error">
                    Email do respons√°vel √© obrigat√≥rio para alunos
                </div>
            </div>

            <div *ngIf="errorMessage" class="error">
                {{ errorMessage }}
            </div>

            <div *ngIf="successMessage" class="success">
                {{ successMessage }}
            </div>

            <button 
                type="submit" 
                [disabled]="registerForm.invalid || !registerData.role || loading" 
                class="submit-btn">
                {{ loading ? 'Autenticando...' : 'Login' }}
            </button>
        </form>

        <div class="navigation-section">
            <div class="nav-buttons">
                <a href="/home" class="nav-btn btn-home">
                            üè† In√≠cio
                        </a>
                <a href="/login" class="nav-btn btn-login">
                            Login
                        </a>

            </div>

            <!--
           
            <div class="login-link-section">
                <p>
                    J√° tem conta? <a routerLink="/login" (click)="goToLogin($event)">Fa√ßa login aqui</a>
                </p>
            </div>
             -->
        </div>
    </div>

    <!-- Se√ß√£o hero ilustrativa -->
    <div class="hero-section">
        <div class="background-pattern">
            <div class="pattern-grid"></div>
        </div>
        
        <div class="hero-content">
            <div class="desktop-illustration">
                <div class="monitor-frame">
                    <div class="register-icon"></div>
                </div>
                <div class="security-badges">
                    <div class="security-badge">üîí</div>
                    <div class="security-badge">‚úì</div>
                    <div class="security-badge">üë•</div>
                </div>
            </div>
            <div class="hero-text">
                <h3>Cadastro Seguro</h3>
                <p>Crie sua conta com total seguran√ßa e comece a usar nossa plataforma educacional.</p>
            </div>
        </div>
    </div>
</div>